/**
 * VerizonLib
 *
 * This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
 */

import {
  array,
  lazy,
  nullable,
  object,
  optional,
  Schema,
  string,
} from '../schema';
import {
  AggregateUsageError,
  aggregateUsageErrorSchema,
} from './aggregateUsageError';
import {
  AggregateUsageItem,
  aggregateUsageItemSchema,
} from './aggregateUsageItem';

/** Session and usage details for up to 10 devices. */
export interface AggregateSessionReport {
  /** A unique string that associates the request with the location report information that is sent in asynchronous callback message.ThingSpace will send a separate callback message for each device that was in the request. All of the callback messages will have the same txid. */
  txid: string | null;
  /** Contains usage per device. */
  usage?: AggregateUsageItem[];
  /** An object containing any errors reported by the device. */
  errors?: AggregateUsageError[];
}

export const aggregateSessionReportSchema: Schema<AggregateSessionReport> = object(
  {
    txid: ['txid', nullable(string())],
    usage: ['usage', optional(array(lazy(() => aggregateUsageItemSchema)))],
    errors: ['errors', optional(array(lazy(() => aggregateUsageErrorSchema)))],
  }
);
